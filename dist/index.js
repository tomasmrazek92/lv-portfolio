"use strict";(()=>{var Je=Object.create;var Ve=Object.defineProperty;var Ke=Object.getOwnPropertyDescriptor;var Ge=Object.getOwnPropertyNames;var et=Object.getPrototypeOf,tt=Object.prototype.hasOwnProperty;var nt=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(i,e)=>(typeof require!="undefined"?require:i)[e]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var it=(t,i,e,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of Ge(i))!tt.call(t,n)&&n!==e&&Ve(t,n,{get:()=>i[n],enumerable:!(l=Ke(i,n))||l.enumerable});return t};var at=(t,i,e)=>(e=t!=null?Je(et(t)):{},it(i||!t||!t.__esModule?Ve(e,"default",{value:t,enumerable:!0}):e,t));function De(){document.querySelectorAll("[data-bunny-background-init]").forEach(function(e){var l=e.getAttribute("data-player-src");if(!l)return;var n=e.querySelector("video");if(!n)return;try{n.pause()}catch{}try{n.removeAttribute("src"),n.load()}catch{}function a(A){e.getAttribute("data-player-status")!==A&&e.setAttribute("data-player-status",A)}function f(A){e.setAttribute("data-player-activated",A?"true":"false")}e.hasAttribute("data-player-activated")||f(!1);var y=e.getAttribute("data-player-lazy"),s=y==="true",v=e.getAttribute("data-player-autoplay")==="true",o=e.getAttribute("data-player-muted")==="true",c=!1;v?(n.muted=!0,n.loop=!0):n.muted=o,n.setAttribute("muted",""),n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.playsInline=!0,typeof n.disableRemotePlayback!="undefined"&&(n.disableRemotePlayback=!0),v&&(n.autoplay=!1);var d=!!n.canPlayType("application/vnd.apple.mpegurl"),h=!!(window.Hls&&Hls.isSupported())&&!d,p=!1,T=!1,C="";function E(){if(!p){if(p=!0,e._hls){try{e._hls.destroy()}catch{}e._hls=null}if(d)n.preload=s?"none":"auto",n.src=l,n.addEventListener("loadedmetadata",function(){t(e,c)},{once:!0});else if(h){var A=new Hls({maxBufferLength:10});A.attachMedia(n),A.on(Hls.Events.MEDIA_ATTACHED,function(){A.loadSource(l)}),A.on(Hls.Events.MANIFEST_PARSED,function(){t(e,c)}),e._hls=A}else n.src=l}}s?n.preload="none":E();function k(){T=!0,n.paused||n.ended?(s&&!p&&E(),c=!0,C="",a("loading"),i(n)):(C="manual",n.pause())}function H(){n.muted=!n.muted,e.setAttribute("data-player-muted",n.muted?"true":"false")}if(e.addEventListener("click",function(A){var I=A.target.closest("[data-player-control]");if(!(!I||!e.contains(I))){var F=I.getAttribute("data-player-control");F==="play"||F==="pause"||F==="playpause"?k():F==="mute"&&H()}}),n.addEventListener("play",function(){f(!0),a("playing")}),n.addEventListener("playing",function(){c=!1,a("playing")}),n.addEventListener("pause",function(){c=!1,a("paused")}),n.addEventListener("waiting",function(){a("loading")}),n.addEventListener("canplay",function(){t(e,c)}),n.addEventListener("ended",function(){c=!1,a("paused"),f(!1)}),v){if(e._io)try{e._io.disconnect()}catch{}var U=new IntersectionObserver(function(A){A.forEach(function(I){var F=I.isIntersecting&&I.intersectionRatio>0;F?(s&&!p&&E(),(C==="io"||n.paused&&C!=="manual")&&(a("loading"),n.paused&&k(),C="")):!n.paused&&!n.ended&&(C="io",n.pause())})},{threshold:.1});U.observe(e),e._io=U}});function t(e,l){!l&&e.getAttribute("data-player-activated")!=="true"&&e.getAttribute("data-player-status")==="idle"&&e.setAttribute("data-player-status","ready")}function i(e){var l=e.play();l&&typeof l.then=="function"&&l.catch(function(){})}}var Ue=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,Be=`
  uniform vec2 uOffset;
  uniform vec2 uResolution;
  uniform vec4 uBorderColor;
  uniform vec4 uHoverColor;
  uniform vec4 uBackgroundColor;
  uniform vec2 uMousePos;
  uniform float uZoom;
  uniform float uCellSize;
  uniform float uTextureCount;
  uniform float uAtlasWidth;
  uniform float uAtlasHeight;
  uniform sampler2D uImageAtlas;
  uniform sampler2D uTextAtlas;
  uniform vec2 uHoveredCell;
  uniform float uHoverIntensity;
  varying vec2 vUv;
  
  void main() {
    vec2 screenUV = (vUv - 0.5) * 2.0;
    
    float radius = length(screenUV);
    float distortion = 1.0 - 0.08 * radius * radius;
    vec2 distortedUV = screenUV * distortion;
    
    vec2 aspectRatio = vec2(uResolution.x / uResolution.y, 1.0);
    vec2 worldCoord = distortedUV * aspectRatio;
    
    worldCoord *= uZoom;
    worldCoord += uOffset;
    
    vec2 cellPos = worldCoord / uCellSize;
    
    cellPos.x = cellPos.x * 0.95;
    cellPos.y = cellPos.y * 0.95;
    
    vec2 cellId = floor(cellPos);
    vec2 cellUV = fract(cellPos);
    
    bool isHovered = (cellId.x == uHoveredCell.x && cellId.y == uHoveredCell.y && uHoverIntensity > 0.01);
    
    float cellIndex = cellId.x + cellId.y * 11.0;
    float texIndex = mod(cellIndex, uTextureCount);
    
    vec3 color = vec3(0.0);
    float alpha = 0.0;
    
    float textHeight = 0.32;
    float textMargin = 0.05;
    float imageMargin = 0.05;
    
    float actualTextMargin = textMargin;
    float actualTextHeight = textHeight;
    float actualImageMargin = imageMargin;
    float actualImageHeight;
    
    if (isHovered) {
      float scaleReduction = uHoverIntensity * 0.02;
      actualImageMargin = imageMargin + scaleReduction;
    }
    
    bool inTextArea = cellUV.x >= actualTextMargin && cellUV.x <= (1.0 - actualTextMargin) && 
                      cellUV.y >= actualTextMargin && cellUV.y <= actualTextHeight;
    
    if (inTextArea) {
      vec2 textCoord = vec2(
        (cellUV.x - actualTextMargin) / (1.0 - 2.0 * actualTextMargin),
        (cellUV.y - actualTextMargin) / (actualTextHeight - actualTextMargin)
      );
      
      float atlasX = mod(texIndex, uAtlasWidth);
      float atlasY = floor(texIndex / uAtlasWidth);
      vec2 atlasUV = (vec2(atlasX, atlasY) + textCoord) / vec2(uAtlasWidth, uAtlasHeight);
      atlasUV.y = 1.0 - atlasUV.y;
      
      vec4 textColor = texture2D(uTextAtlas, atlasUV);
      
      if (textColor.a > 0.3) {
        color = textColor.rgb;
        alpha = smoothstep(0.2, 0.7, textColor.a);
        
        if (isHovered) {
          color = mix(color, uHoverColor.rgb, uHoverIntensity * uHoverColor.a * 0.2);
        }
      }
    }
    
    float imageY = textHeight + 0.02;
    actualImageHeight = 1.0 - imageY - actualImageMargin;
    
    bool inImageArea = cellUV.x >= actualImageMargin && cellUV.x <= (1.0 - actualImageMargin) && 
                       cellUV.y >= imageY && cellUV.y <= (imageY + actualImageHeight);
    
    if (inImageArea) {
      vec2 imageUV = vec2(
        (cellUV.x - actualImageMargin) / (1.0 - 2.0 * actualImageMargin),
        (cellUV.y - imageY) / actualImageHeight
      );
      
      float atlasX = mod(texIndex, uAtlasWidth);
      float atlasY = floor(texIndex / uAtlasWidth);
      vec2 atlasUV = (vec2(atlasX, atlasY) + imageUV) / vec2(uAtlasWidth, uAtlasHeight);
      atlasUV.y = 1.0 - atlasUV.y;
      
      vec4 imageColor = texture2D(uImageAtlas, atlasUV);
      color = imageColor.rgb;
      alpha = 1.0;
      
      if (isHovered) {
        color = mix(color, uHoverColor.rgb, uHoverIntensity * uHoverColor.a * 0.3);
      }
    }
        
    float fade = 1.0 - smoothstep(1.2, 1.8, radius);
    alpha *= fade;
    
    gl_FragColor = vec4(color, alpha);
  }
`;typeof THREE=="undefined"&&import("https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js").then(()=>{je()});gsap.registerPlugin(SplitText,ScrollTrigger,TextPlugin);function ot(){window.lenisInstance&&(window.lenisInstance.destroy(),window.lenisInstance=null);let t;if(Webflow.env("editor")===void 0){let n=function(a){t.raf(a),requestAnimationFrame(n)};var l=n;t=new Lenis({lerp:.075,wheelMultiplier:.7,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1}),requestAnimationFrame(n),window.lenisInstance=t}$("[data-lenis-start]").off("click").on("click",function(){t.start()}),$("[data-lenis-stop]").off("click").on("click",function(){t.stop()}),$("[data-lenis-toggle]").off("click").on("click",function(){$(this).toggleClass("stop-scroll"),$(this).hasClass("stop-scroll")?t.stop():t.start()});let{body:i}=document;new ResizeObserver(()=>{t.resize()}).observe(i)}function rt(){if(document.documentElement.style.setProperty("--gap-size","0"),!document.querySelector(".site-frame")){let e=["top","right","bottom","left"],l=document.createElement("div");l.className="site-frame-container",e.forEach(a=>{let f=document.createElement("div");f.className=`site-frame site-frame-${a}`,l.appendChild(f)}),document.body.appendChild(l);let n=document.createElement("style");n.innerHTML=`
  .site-frame-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
  }
  
  .site-frame {
    position: absolute;
    background-color: var(--body-2);
    transition: transform 0.3s ease;
  }
  
  .site-frame-top, .site-frame-bottom {
    left: 0;
    width: 100%;
    height: 5px;
    transform: scaleY(var(--gap-size));
  }
  
  .site-frame-top {
    top: 0;
    transform-origin: top center;
  }
  
  .site-frame-bottom {
    bottom: 0;
    transform-origin: bottom center;
  }
  
  .site-frame-left, .site-frame-right {
    top: 0;
    height: 100%;
    width: 5px;
    transform: scaleX(var(--gap-size));
  }
  
  .site-frame-left {
    left: 0;
    transform-origin: left center;
  }
  
  .site-frame-right {
    right: 0;
    transform-origin: right center;
  }

  @media only screen and (max-width:992px){
  .site-frame.site-frame-bottom{
    display:none;
  }
}
`,document.head.appendChild(n)}let t=window.lenis||null;function i(e){e>100?gsap.to(document.documentElement,{duration:0,"--gap-size":1,ease:"power2.out"}):gsap.to(document.documentElement,{duration:0,"--gap-size":0,ease:"power2.out"})}t?t.on("scroll",({scroll:e})=>{i(e)}):$(window).scroll(function(){i($(this).scrollTop())})}var Oe=0;function ne(t){window.lenisInstance&&(t===!0?i():e());function i(){Oe=window.scrollY,$("body").css({overflow:"hidden",position:"fixed",top:"0",width:"100%"}),window.lenisInstance.scrollTo(0,{immediate:!0,onComplete:()=>{window.lenisInstance.stop()}})}function e(){$("body").css({overflow:"",position:"",top:"",width:""}),window.lenisInstance.start(),window.lenisInstance.scrollTo(Oe,{})}}function st(){$("[data-scroll-top]").on("click",function(){window.lenisInstance?window.lenisInstance.scrollTo(0):window.scrollTo(0,0)})}function lt(){function t(){let i=new Date,e={timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",hour12:!0},l=i.toLocaleTimeString("en-GB",e);$("[data-time-cet]").text(`CET ${l}`)}t(),setInterval(t,1e3)}function ct(){let i=document.querySelectorAll("[data-css-marquee]"),e=[],l;function n(o){if(o.getAttribute("data-initialized")==="true")return;o.querySelectorAll("[data-css-marquee-list]").forEach(d=>{let h=d.cloneNode(!0);o.appendChild(h)}),o.querySelectorAll("[data-css-marquee-list]").forEach(d=>{d.style.animationDuration=d.offsetWidth/60+"s",d.style.animationPlayState="paused"}),o.setAttribute("data-initialized","true"),e.push(o)}function a(o){let c=o.querySelectorAll("[data-css-marquee-list]");for(let h=c.length-1;h>=c.length/2;h--)c[h].remove();o.querySelectorAll("[data-css-marquee-list]").forEach(h=>{h.style.animationDuration="",h.style.animationPlayState=""}),o.setAttribute("data-initialized","false");let d=e.indexOf(o);d>-1&&e.splice(d,1)}function f(o){let c=parseInt(o.getAttribute("data-breakpoint")||"0");window.innerWidth<=c?n(o):o.getAttribute("data-initialized")==="true"&&a(o)}let y=new IntersectionObserver(o=>{o.forEach(c=>{c.target.getAttribute("data-initialized")==="true"&&c.target.querySelectorAll("[data-css-marquee-list]").forEach(d=>d.style.animationPlayState=c.isIntersecting?"running":"paused")})},{threshold:0});function s(){i.forEach(o=>{f(o),y.observe(o)})}function v(){clearTimeout(l),l=setTimeout(()=>{i.forEach(o=>{f(o)})},250)}window.addEventListener("resize",v),s()}function Xe(){function t(l,n=!1){let a=document.getElementById(l);if(a&&window.lenisInstance){let f=()=>{window.lenisInstance.scrollTo(a,{duration:1,easing:y=>Math.min(1,1.001-Math.pow(2,-10*y))})};n?f():setTimeout(f,100),n&&window.history.pushState({},"",window.location.pathname+"?anchor="+l)}}let e=new URLSearchParams(window.location.search).get("anchor");e&&t(e),$('a[href^="?anchor="], a[href^="#"], a[href*="'+window.location.pathname+'?anchor="]').on("click",function(l){let n=$(this).attr("href"),a;if(n.startsWith("#"))a=n.substring(1);else if(n.includes("?anchor=")){let f=n.split("?"),y=window.location.pathname,s=f[0]||y;(s===y||s==="")&&(l.preventDefault(),a=new URLSearchParams(f[1]).get("anchor"))}a&&($(".nav_menu").is(":visible")?(ne(!1),$('[data-nav-toggle="close"]').trigger("click"),setTimeout(()=>{t(a,!0)},500)):t(a,!0))})}function ut(){$("[data-copy-clipboard]").on("click",function(){let t=$(this).attr("data-copy-clipboard"),i=$(`[data-copy-clipboard="${t}"]`).find(".line");if(i.length){let e=i.text(),l=()=>{let n=$('<div class="copy-tooltip">Copied</div>');n.css({position:"absolute",background:"var(--body-2)",color:"var(--text-2)",padding:".5em 1em",borderRadius:".25em",fontSize:"1.5rem",whiteSpace:"nowrap",zIndex:9999,pointerEvents:"none"});let a=i.offset();n.css({top:a.top-40,left:a.left+i.outerWidth()/2-n.outerWidth()/2}),$("body").append(n),setTimeout(()=>{n.remove()},1500)};navigator.clipboard.writeText(e).then(()=>{l()}).catch(()=>{let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),l()})}})}function Ye(t){let i=new DOMParser().parseFromString(t.next.html,"text/html").querySelector("html").getAttribute("data-wf-page");document.documentElement.setAttribute("data-wf-page",i),window.Webflow&&window.Webflow.destroy(),window.Webflow&&window.Webflow.ready(),window.Webflow&&window.Webflow.require&&window.Webflow.require("ix2")&&window.Webflow.require("ix2").init(),$(".w--current").removeClass("w--current"),$("a").each(function(){$(this).attr("href")===window.location.pathname&&$(this).addClass("w--current")})}function qe(){let t=document.querySelector(".cursor");if(!t)return;let i=t.querySelector("p"),e=document.querySelectorAll("[data-cursor]"),l=6,n=140,a=!1,f=null,y="",s=!1,v,o,c=()=>window.innerWidth>=992,d=()=>{c()&&(s=!0,gsap.set(t,{xPercent:l,yPercent:n,scale:.8}),v=gsap.quickTo(t,"x",{ease:"power3"}),o=gsap.quickTo(t,"y",{ease:"power3"}),t.style.display="block")},h=()=>{s=!1,t&&(t.style.display="none")},p=()=>t.offsetWidth+16,T=k=>{if(!s)return;let H=window.innerWidth,U=window.innerHeight,{scrollY:A}=window,I=k.clientX,F=k.clientY+A,N=l,J=n,oe=p();if(I>H-oe?(a=!0,N=-100):a=!1,F>A+U*.9&&(J=-120),f){let Y=f.getAttribute("data-cursor");Y!==y&&(i.innerHTML=Y,y=Y,oe=p())}gsap.to(t,{xPercent:N,yPercent:J,duration:.9,scale:1,ease:"power3"}),v(I),o(F-A)},C=k=>{if(!s)return;f=k;let H=k.getAttribute("data-cursor");H!==y&&(i.innerHTML=H,y=H,p()),k.tagName!=="A"?(t.style.backgroundColor="var(--text-3)",t.style.color="var(--body-2)"):(t.style.backgroundColor="",t.style.color="")},E=()=>{c()&&!s?d():!c()&&s&&h()};window.addEventListener("mousemove",T),window.addEventListener("resize",E),e.forEach(k=>{k.addEventListener("mouseenter",()=>C(k))}),c()&&d()}function dt(){let t="https://showreel-volkov-design-25.b-cdn.net/click-sound%202.wav",i=!0,e=!1,l,n;function a(){i=!0,y()}function f(){e||(e=!0,l=new AudioContext({latencyHint:"interactive",sampleRate:44100}),Howler.volume(.1),n=new Howl({src:[t],onplayerror:function(){console.log("Error Playing the Sound")}}))}function y(){window.innerWidth<=991||($(document).on("click",function(){e?v():(f(),setTimeout(function(){v()},50))}),$("[data-sound-toggle]").on("click",function(){s($(this))}))}function s(o){i=!i,o.attr("data-sound-state",i?"on":"off")}function v(){i&&(l?n.play():setTimeout(function(){n.play()},10))}a()}function ft(){var t=document.querySelector("[data-bunny-lightbox-init]");if(!t)return;var i=t.closest("[data-bunny-lightbox-status]");if(!i)return;var e=t.querySelector("video");if(!e)return;try{e.pause()}catch{}try{e.removeAttribute("src"),e.load()}catch{}function l(u,g,w){var P=typeof w=="boolean"?w?"true":"false":String(w);u.getAttribute(g)!==P&&u.setAttribute(g,P)}function n(u){l(t,"data-player-status",u)}function a(u){e.muted=!!u,l(t,"data-player-muted",e.muted)}function f(u){l(t,"data-player-fullscreen",!!u)}function y(u){l(t,"data-player-activated",!!u)}t.hasAttribute("data-player-activated")||y(!1);var s=t.querySelector("[data-player-timeline]"),v=t.querySelector("[data-player-progress]"),o=t.querySelector("[data-player-buffered]"),c=t.querySelector("[data-player-timeline-handle]"),d=t.querySelectorAll("[data-player-time-duration]"),h=t.querySelectorAll("[data-player-time-progress]"),p=t.querySelector("[data-bunny-lightbox-placeholder]"),T=t.getAttribute("data-player-update-size"),C=t.getAttribute("data-player-autoplay")==="true",E=t.getAttribute("data-player-muted")==="true",k=!1;e.loop=!1,a(E),e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.playsInline=!0,typeof e.disableRemotePlayback!="undefined"&&(e.disableRemotePlayback=!0),C&&(e.autoplay=!1);var H=!!e.canPlayType("application/vnd.apple.mpegurl"),U=!!(window.Hls&&Hls.isSupported())&&!H,A=!1,I="",F="",N,J=!1;function oe(u,g,w,P){var S=g.querySelector("[data-bunny-lightbox-calc-height]");if(!S)return;function X(){if(P==="cover")return null;if(P==="true"){if(w.videoWidth&&w.videoHeight)return w.videoWidth/w.videoHeight;var Q=u.querySelector("[data-player-before]");if(Q&&Q.style&&Q.style.paddingTop){var te=parseFloat(Q.style.paddingTop);if(te>0)return 100/te}var ie=u.getBoundingClientRect();return ie.height>0?ie.width/ie.height:16/9}var ae=u.querySelector("[data-player-before]");if(ae&&ae.style&&ae.style.paddingTop){var le=parseFloat(ae.style.paddingTop);if(le>0)return 100/le}var ce=u.getBoundingClientRect();return ce.height>0?ce.width/ce.height:16/9}function q(){if(P==="cover"){S.style.maxWidth="",S.style.maxHeight="";return}var Q=g,te=getComputedStyle(Q),ie=parseFloat(te.paddingTop)||0,ae=parseFloat(te.paddingBottom)||0,le=parseFloat(te.paddingLeft)||0,ce=parseFloat(te.paddingRight)||0,Me=Q.clientWidth-le-ce,_e=Q.clientHeight-ie-ae;if(!(Me<=0||_e<=0)){var Re=X();if(!Re){S.style.maxWidth="",S.style.maxHeight="";return}var ze=Me/Re;ze<=_e?(S.style.maxWidth="100%",S.style.maxHeight=ze/_e*100+"%"):(S.style.maxHeight="100%",S.style.maxWidth=_e*Re/Me*100+"%")}}var V=!1;function Z(){V||g.getAttribute("data-bunny-lightbox-status")==="active"&&(V=!0,requestAnimationFrame(function(){V=!1,q()}))}var Ee=new ResizeObserver(Z);Ee.observe(g),window.addEventListener("resize",Z),window.addEventListener("orientationchange",Z),P==="true"&&(w.addEventListener("loadedmetadata",Z),w.addEventListener("loadeddata",Z),w.addEventListener("playing",Z)),u._applyClamp=Z,Z()}oe(t,i,e,T);function Y(u,g){if(H){e.preload="auto",e.src=u,e.addEventListener("loadedmetadata",g,{once:!0});return}if(U){var w=new Hls({maxBufferLength:10});t._hls=w,w.attachMedia(e),w.on(Hls.Events.MEDIA_ATTACHED,function(){w.loadSource(u)}),w.on(Hls.Events.MANIFEST_PARSED,function(){g()}),w.on(Hls.Events.LEVEL_LOADED,function(P,S){S&&S.details&&isFinite(S.details.totalduration)&&d.length&&O(d,W(S.details.totalduration))});return}e.preload="auto",e.src=u,e.addEventListener("loadedmetadata",g,{once:!0})}function j(u){if(!(I===u&&A)){if(t._hls){try{t._hls.destroy()}catch{}t._hls=null}d.length&&O(d,"00:00"),I=u,A=!0,Y(u,function(){$e(t,k),Ae(),typeof t._applyClamp=="function"&&t._applyClamp(),d.length&&e.duration&&O(d,W(e.duration)),J&&i.getAttribute("data-bunny-lightbox-status")==="active"&&(n("loading"),ee(e),J=!1)})}}function re(u){var g=u?"active":"not-active";i.getAttribute("data-bunny-lightbox-status")!==g&&i.setAttribute("data-bunny-lightbox-status",g),u&&typeof t._applyClamp=="function"&&t._applyClamp()}function de(u){return I&&I===u}function fe(u){var g=de(u);if(!g){try{!e.paused&&!e.ended&&e.pause()}catch{}if(t._hls){try{t._hls.destroy()}catch{}t._hls=null}A=!1,I="",d.length&&O(d,"00:00"),y(!1),n("idle"),j(u),J=!!C,k=!!C;return}if(J=!!C,C)n("loading"),ee(e);else{try{!e.paused&&!e.ended&&e.pause()}catch{}y(!1),n("paused")}}function me(u,g){if(!u)return;function w(){ne(!0),re(!0),fe(u)}if(p&&g){var P=p.getAttribute("src")!==g;P||!p.complete||!p.naturalWidth?(p.onload=function(){p.onload=null,w()},p.onerror=function(){p.onerror=null,w()},P?p.setAttribute("src",g):p.dispatchEvent(new Event("load"))):w()}else w()}function we(){e.paused||e.ended?(k=!0,F="",n("loading"),ee(e)):(F="manual",e.pause())}function Ce(){a(!e.muted)}t.addEventListener("click",function(u){var g=u.target.closest("[data-player-control]");if(!(!g||!t.contains(g))){var w=g.getAttribute("data-player-control");w==="play"||w==="pause"||w==="playpause"?we():w==="mute"?Ce():w==="fullscreen"&&Se()}});function be(){return!!(document.fullscreenElement||document.webkitFullscreenElement)}function Le(){if(t.requestFullscreen)return t.requestFullscreen();if(e.requestFullscreen)return e.requestFullscreen();if(e.webkitSupportsFullscreen&&typeof e.webkitEnterFullscreen=="function")return e.webkitEnterFullscreen()}function xe(){if(document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(e.webkitDisplayingFullscreen&&typeof e.webkitExitFullscreen=="function")return e.webkitExitFullscreen()}function Se(){be()||e.webkitDisplayingFullscreen?xe():Le()}document.addEventListener("fullscreenchange",function(){f(be())}),document.addEventListener("webkitfullscreenchange",function(){f(be())}),e.addEventListener("webkitbeginfullscreen",function(){f(!0)}),e.addEventListener("webkitendfullscreen",function(){f(!1)});function pe(){d.length&&O(d,W(e.duration)),h.length&&O(h,W(e.currentTime))}e.addEventListener("timeupdate",pe),e.addEventListener("loadedmetadata",function(){pe(),Ae()}),e.addEventListener("loadeddata",function(){Ae()}),e.addEventListener("playing",function(){Ae()}),e.addEventListener("durationchange",pe);function he(){if(e.duration){var u=e.currentTime/e.duration*100;v&&(v.style.transform="translateX("+(-100+u)+"%)"),c&&(c.style.left=Pe(u)+"%")}}function Pe(u){return u<0?0:u>100?100:u}function K(){he(),!e.paused&&!e.ended&&(N=requestAnimationFrame(K))}function ge(){if(!(!o||!e.duration||!e.buffered.length)){var u=e.buffered.end(e.buffered.length-1),g=u/e.duration*100;o.style.transform="translateX("+(-100+g)+"%)"}}if(e.addEventListener("progress",ge),e.addEventListener("loadedmetadata",ge),e.addEventListener("durationchange",ge),e.addEventListener("play",function(){y(!0),cancelAnimationFrame(N),K(),n("playing")}),e.addEventListener("playing",function(){k=!1,n("playing")}),e.addEventListener("pause",function(){k=!1,cancelAnimationFrame(N),he(),n("paused")}),e.addEventListener("waiting",function(){n("loading")}),e.addEventListener("canplay",function(){$e(t,k)}),e.addEventListener("ended",function(){k=!1,cancelAnimationFrame(N),he(),y(!1),e.currentTime=0,(document.fullscreenElement||document.webkitFullscreenElement||e.webkitDisplayingFullscreen)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()),z()}),s){let u=function(q){m||(m=s.getBoundingClientRect());var V=(q-m.left)/m.width;return V<0&&(V=0),V>1&&(V=1),V},g=function(q){if(e.duration){var V=q*100;v&&(v.style.transform="translateX("+(-100+V)+"%)"),c&&(c.style.left=V+"%"),h.length&&O(h,W(q*e.duration))}},w=function(q){e.duration&&(q-He<r||(He=q,e.currentTime=se))},P=function(q){if(e.duration){ve=!0,Te=!e.paused&&!e.ended,Te&&e.pause(),t.setAttribute("data-timeline-drag","true"),m=s.getBoundingClientRect();var V=u(q.clientX);se=V*e.duration,g(V),w(performance.now()),s.setPointerCapture&&s.setPointerCapture(q.pointerId),window.addEventListener("pointermove",S,{passive:!1}),window.addEventListener("pointerup",X,{passive:!0}),q.preventDefault()}},S=function(q){if(ve){var V=u(q.clientX);se=V*e.duration,g(V),w(performance.now()),q.preventDefault()}},X=function(){ve&&(ve=!1,t.setAttribute("data-timeline-drag","false"),m=null,e.currentTime=se,Te?ee(e):(he(),pe()),window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",X))};var Dt=u,Ut=g,Bt=w,Ot=P,Yt=S,Xt=X,ve=!1,Te=!1,se=0,He=0,r=180,m=null;window.addEventListener("resize",function(){ve||(m=null)}),s.addEventListener("pointerdown",P,{passive:!1}),c&&c.addEventListener("pointerdown",P,{passive:!1})}var b,x=3e3;function _(u){t.getAttribute("data-player-hover")!==u&&t.setAttribute("data-player-hover",u)}function L(){clearTimeout(b),b=setTimeout(function(){_("idle")},x)}function R(){_("active"),L()}t.addEventListener("pointerdown",R),document.addEventListener("fullscreenchange",R),document.addEventListener("webkitfullscreenchange",R);var M=!1;function D(u){var g=t.getBoundingClientRect();u.clientX>=g.left&&u.clientX<=g.right&&u.clientY>=g.top&&u.clientY<=g.bottom&&R()}t.addEventListener("pointerenter",function(){R(),M||(M=!0,window.addEventListener("pointermove",D,{passive:!0}))}),t.addEventListener("pointerleave",function(){_("idle"),clearTimeout(b),M&&(M=!1,window.removeEventListener("pointermove",D))});function z(){re(!1);var u=!1;try{if(e.played&&e.played.length){for(var g=0;g<e.played.length;g++)if(e.played.end(g)>0){u=!0;break}}else u=e.currentTime>0}catch{}try{!e.paused&&!e.ended&&e.pause()}catch{}y(!1),n(u?"paused":"idle"),ne(!1)}document.addEventListener("click",function(u){var g=u.target.closest('[data-bunny-lightbox-control="open"]');if(g){var w=g.getAttribute("data-bunny-lightbox-src")||"";if(!w)return;var P=g.querySelector("[data-bunny-lightbox-placeholder]"),S=P?P.getAttribute("src"):"";me(w,S);return}var X=u.target.closest('[data-bunny-lightbox-control="close"]');if(X){var q=X.closest("[data-bunny-lightbox-status]");q===i&&z();return}}),document.addEventListener("keydown",function(u){u.key==="Escape"&&z()});function B(u){return(u<10?"0":"")+u}function W(u){if(!isFinite(u)||u<0)return"00:00";var g=Math.floor(u),w=Math.floor(g/3600),P=Math.floor(g%3600/60),S=g%60;return w>0?w+":"+B(P)+":"+B(S):B(P)+":"+B(S)}function O(u,g){u.forEach(function(w){w.textContent=g})}function G(u){return!u||!u.length?null:u.reduce(function(g,w){return(w.width||0)>(g.width||0)?w:g},u[0])}function ee(u){var g=u.play();g&&typeof g.then=="function"&&g.catch(function(){})}function $e(u,g){!g&&u.getAttribute("data-player-activated")!=="true"&&u.getAttribute("data-player-status")==="idle"&&u.setAttribute("data-player-status","ready")}function Ie(u,g,w,P){if(!(g!=="true"||!w||!P)){var S=u.querySelector("[data-player-before]");S&&(S.style.paddingTop=P/w*100+"%")}}function Rt(u,g,w){if(g==="true"){var P=u.querySelector("[data-player-before]");if(P){var S=P.style.paddingTop&&P.style.paddingTop!=="0%";!S&&w.videoWidth&&w.videoHeight&&Ie(u,g,w.videoWidth,w.videoHeight)}}}function Ae(){if(T!=="true")return;var u=t.querySelector("[data-player-before]");if(!u)return;function g(S,X){!S||!X||(u.style.paddingTop=X/S*100+"%",typeof t._applyClamp=="function"&&t._applyClamp())}if(e.videoWidth&&e.videoHeight){g(e.videoWidth,e.videoHeight);return}if(t._hls&&t._hls.levels&&t._hls.levels.length){var w=t._hls.levels,P=w.reduce(function(S,X){return(X.width||0)>(S.width||0)?X:S},w[0]);if(P&&P.width&&P.height){g(P.width,P.height);return}}requestAnimationFrame(function(){if(e.videoWidth&&e.videoHeight){g(e.videoWidth,e.videoHeight);return}var S=typeof I=="string"&&I?I:"";if(!S||S.indexOf("blob:")===0){var X=t.getAttribute("data-bunny-lightbox-src")||t.getAttribute("data-player-src")||"";X&&X.indexOf("blob:")!==0&&(S=X)}!S||!/^https?:/i.test(S)||fetch(S,{credentials:"omit",cache:"no-store"}).then(function(q){if(!q.ok)throw new Error;return q.text()}).then(function(q){for(var V=q.split(/\r?\n/),Z=0,Ee=0,Q=null,te=0;te<V.length;te++){var ie=V[te];if(ie.indexOf("#EXT-X-STREAM-INF:")===0)Q=ie;else if(Q&&ie&&ie[0]!=="#"){var ae=/RESOLUTION=(\d+)x(\d+)/.exec(Q);if(ae){var le=parseInt(ae[1],10),ce=parseInt(ae[2],10);le>Z&&(Z=le,Ee=ce)}Q=null}}Z&&Ee&&g(Z,Ee)}).catch(function(){})})}}function mt(){let t=$('[data-nav-toggle="open"]'),i=$('[data-nav-toggle="close"]'),e=$(".nav_menu"),l=$("[data-menu-brand]"),n=$(".nav_menu-item"),a=$(".nav_menu-sublinks li"),f=$(".nav_menu-meta");gsap.set(e,{display:"none"}),gsap.set([e,n,a,f],{opacity:0}),gsap.set(l,{text:""});let y={open:()=>{let o=gsap.timeline();return ye(l,l.attr("data-menu-text")),o.set(e,{display:"flex"}),o.set(i,{yPercent:100}),o.to(t.find("svg"),{scale:0,ease:"power4.out"}),o.to(t,{scale:0,ease:"power4.out"},"<0.1"),o.to(e,{opacity:1},"<"),o.to(i,{yPercent:0}),o.to(n,{opacity:1,stagger:.1},"<"),o.fromTo(n.find(".nav_menu-item_list"),{scale:0},{scale:1,stagger:.1},"<0.3"),o.fromTo(n.find("p"),{yPercent:300},{yPercent:0,stagger:.1,duration:.6},"<"),o.fromTo(n.find(".w-embed"),{xPercent:300},{xPercent:0,stagger:.1,duration:.6},"<"),o.to([a,f],{opacity:1,stagger:.2},"<"),o},close:()=>{let o=gsap.timeline();return o.to([a,f],{opacity:0,duration:.3}),o.to(i,{yPercent:100},"<"),o.to(n.find("p"),{yPercent:300,stagger:.05,duration:1},"<0.2"),o.to(n.find(".nav_menu-item_list"),{scale:0,stagger:.1},"<"),o.to(n,{opacity:0,stagger:.1},"<"),o.to(e,{opacity:0},"<0.4"),o.to(t.find("svg"),{scale:1,ease:"power4.out"},"<"),o.to(t,{scale:1,ease:"power4.out"},"<"),o.set(e,{display:"none"}),ye(l,""),o}};function s(){y.open(),ne(!0)}function v(){y.close(),ne(!1)}t.on("click",s),i.on("click",v)}function pt(){$(".nav_meta-col").each(function(){let t=$(this).find("a"),i=$(this).find("p");ke(t),ke(i),gsap.fromTo($(".nav_mode"),{scale:0},{scale:1})})}function ht(){let t=$("[data-back-to-home]"),i=t.find("[data-back-label]"),e=i.attr("data-original-text");t.hover(function(){ye(i,"Home, sweet home")},function(){ye(i,e)})}function gt(){$(".hp-hero_content-block").each(function(){let t=gsap.timeline();ke($(this).find(".hp-hero_content-label").eq(0)),t.fromTo($(this).find("li"),{opacity:0,xPercent:-5},{opacity:1,xPercent:0,stagger:.2}),t.fromTo($(".hp-hero").find("[data-item-reveal]"),{opacity:0,visibility:"hidden"},{opacity:1,visibility:"visible"})}),$(".hp-hero_content-visual").each(function(){gsap.set($(this),{clipPath:"polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"}),gsap.to($(this),{clipPath:"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",duration:1.5,ease:"power3.inOut",onComplete:()=>{$(this).css("clip-path","")}})})}function vt(){let t=gsap.matchMedia(),i=$(".hp-hero");i.length&&t.add("(min-width: 992px)",()=>{gsap.timeline({scrollTrigger:{trigger:i,start:"center top",end:"bottom top",scrub:1,onEnterBack:()=>{$(".hp-work_head-link").length&&gsap.to($(".hp-work_head-link"),{rotate:0})},onLeave:()=>{$(".hp-work_head-link").length&&gsap.to($(".hp-work_head-link"),{rotate:180})}}}).to($(".hp-hero").add(".nav_wrapper"),{opacity:.1})})}function Ne(t,i){$(t).find(i).hover(function(){let e=$(this).parent().index(),l=$(".links-imgs_box-item").length,n=-(e*(100/l));gsap.to(".links-imgs_box-list",{yPercent:n,duration:.3,ease:"power2.inOut"})}),$(t).hover(function(){gsap.to(".links-imgs_box-wrap",{scale:1,duration:.2,ease:"power4.in"})},function(){gsap.to(".links-imgs_box-wrap",{scale:0,duration:.2,ease:"power4.out"})})}function yt(){gsap.matchMedia().add("(min-width: 992px)",()=>{let i=$(".work_slider-item"),e=i.length,l=$(".work-wall"),n=$(".hp-work_slider-row"),a=e*100,f=a;l.css("height",f+"vh"),gsap.registerPlugin(ScrollTrigger),gsap.to(n,{xPercent:-(a-100),ease:"none",scrollTrigger:{trigger:l,start:"top top",end:"bottom bottom",scrub:1,pin:!1}});let y=$(".work_slider-item img");if(window.lenisInstance){let s=!1,v;window.lenisInstance.on("scroll",o=>{$(window).width()>991&&(Math.abs(o.velocity)>15&&!s&&(s=!0,gsap.to(y,{scale:1.1,duration:1,ease:"power4.out"}),gsap.to(i.find(".work_slider-item_visual"),{scale:.8,duration:1,ease:"power4.out"})),clearTimeout(v),v=setTimeout(()=>{s=!1,gsap.to(y,{scale:1,duration:1,ease:"power4.out"}),gsap.to(i.find(".work_slider-item_visual"),{scale:1,duration:1,ease:"power4.out"})},15))})}})}function wt(){$("[data-work-counter]").text("("+$(".work_slider-item").length+")")}function bt(){var t=gsap.timeline({});let i=".work-d_hero-wrap.cc-images",e=".work-d_hero-wrap.cc-images .work-d_hero-list",l=".work-d_hero-wrap.cc-images .work-d_hero-list-item",n=".work-d_hero-timeline-box",a=".work-navigation";t.set([n,a],{y:"10vh",rotate:.001,opacity:0},"<"),t.to(e,{duration:1,ease:"Power4.easeOut",rotate:.001,y:0,clearProps:"all",delay:0,onComplete:()=>{ke($('[data-split="work-heading"]'))}},"<"),t.from(l,{duration:2,ease:"Expo.easeInOut",rotate:.001,opacity:0,y:"0px",clearProps:"all"},"<"),t.to([n,a],{duration:2.1,ease:"Expo.easeInOut",rotate:.001,y:0,opacity:1,clearProps:"all"},"<")}function Fe(){return new Promise(t=>{let i=$(".work-d_hero-list-item");if(!i.length){t();return}let e=i.find("img"),l=0,n=e.length;if(n===0){setTimeout(t,100);return}function a(){l++,l>=n&&setTimeout(t,100)}e.each(function(){this.complete?a():$(this).on("load error",a)}),setTimeout(t,2e3)})}function xt(){let t,i={},e=0,l=-1,n=null,a=!1,f=16,y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function s(){let p=$(".work-d_hero-list-item"),T=$(".work-d_hero-timeline_item"),C=$(window).width()<992;return!p.length||!T.length?!1:(i={items:p,timelineItems:T,isSmallScreen:C,itemData:[],timelineItemSize:C?T.first().outerWidth(!0):T.first().outerHeight(!0)},p.each(function(E){let k=$(this),H=k.offset();H&&i.itemData.push({top:H.top,height:k.outerHeight(),center:H.top+k.outerHeight()/2})}),i.itemData.length>0)}function v(){if(!a||!i.itemData.length)return;let p=$(window).height(),C=$(window).scrollTop()+p/2,E=$(".work-d_hero-timeline-inner");if(!E.length)return;let k=i.itemData[0].center;if(C<k){l!==0&&(i.isSmallScreen,E[0].style.transform="translate3d(0px, 0px, 0px)",l=0);return}let H=0,U=-1;for(let I=0;I<i.itemData.length&&C>=i.itemData[I].center;I++)H=I,U=I;if(U<i.itemData.length-1&&U>=0){let I=i.itemData[U].center,F=i.itemData[U+1].center;if(C>I){let N=(C-I)/(F-I);H+=Math.min(1,Math.max(0,N))}}let A=Math.round(H*i.timelineItemSize);Math.abs(A-l)>.5&&(i.isSmallScreen?E[0].style.transform=`translate3d(${-A}px, 0px, 0px)`:E[0].style.transform=`translate3d(0px, ${-A}px, 0px)`,l=A)}function o(){t&&t.kill();let p=$(".work-d_hero-part.cc-images");if(!p.length)return;let T=$(".work-d_hero-list"),C=$(".work-d_hero-list-item"),E=$(".work-d_hero-timeline"),k=$(".work-d_hero-timeline-inner"),H=C.first(),U=C.last();if(!C.length||!E.length||!k.length)return;let A=$(".work-d_hero-timeline_item"),I=$(window).width()<992;if(!s())return;l=-1,a=!0,k[0].style.transform="translate3d(0px, 0px, 0px)",k[0].style.willChange="transform";let F=gsap.timeline({paused:!0});I&&F.fromTo(A.find(".work-d_hero-timeline_mask"),{yPercent:50,opacity:0},{yPercent:0,opacity:1,stagger:.2});let N=$(window).scrollTop(),J=$(window).height(),oe=N+J/2;if(i.itemData.length>0){let Y=i.itemData[0].center,j=i.itemData[i.itemData.length-1].center;oe>=Y&&oe<=j&&(E.addClass("cc-active"),I&&F.progress(1),v())}if(t=ScrollTrigger.create({trigger:p[0],onEnter:()=>{E.addClass("cc-active"),I&&F.play()},onEnterBack:()=>{E.addClass("cc-active"),I&&F.play()},onLeave:()=>{E.removeClass("cc-active"),I&&F.reverse()},onLeaveBack:()=>{E.removeClass("cc-active"),I&&F.reverse()},start:()=>H.outerHeight()/2+"px center",end:()=>{let Y=T.outerHeight(),j=U.outerHeight();return Y-j/2+"px center"},scrub:y?!1:0,onUpdate:y?null:Y=>{n||(n=requestAnimationFrame(()=>{let j=performance.now();if(j-e<f){n=null;return}e=j,v(),n=null}))}}),y){let Y;$(window).on("scroll.workTimelineSafari",()=>{clearTimeout(Y),Y=setTimeout(()=>{v()},5)})}$(document).off("click.workTimeline",".work-d_hero-timeline_item"),$(document).on("click.workTimeline",".work-d_hero-timeline_item",function(){let Y=$(this).index(),j=C.eq(Y);if(j.length){let re=j.offset().top,de=j.outerHeight(),fe=$(window).height(),me=re+de/2-fe/2;typeof lenisInstance!="undefined"&&lenisInstance.scrollTo?lenisInstance.scrollTo(me,{duration:1.2,easing:we=>Math.min(1,1.001-Math.pow(2,-10*we))}):$("html, body").animate({scrollTop:Math.max(0,me)},1200)}})}let c;function d(){clearTimeout(c),c=setTimeout(()=>{$(window).width()!==$(window).data("prevWidth")&&($(window).data("prevWidth",$(window).width()),a=!1,setTimeout(()=>{Fe().then(()=>{o()})},100))},150)}function h(){t&&(t.kill(),t=null),n&&(cancelAnimationFrame(n),n=null),$(window).off("resize.workTimeline"),$(window).off("scroll.workTimelineSafari"),$(document).off("click.workTimeline"),a=!1,l=-1,i={}}return Fe().then(()=>{o()}),$(window).off("resize.workTimeline"),$(window).on("resize.workTimeline",d),typeof window.barba!="undefined"&&window.barba.hooks.before(()=>{h()}),{destroy:h,refresh:()=>{h(),Fe().then(()=>{o()})}}}function Tt(){let t=$(".work-d_content-part_icon"),i=gsap.timeline({scrollTrigger:{trigger:t}});i.from(t,{scale:0}),i.from(t.find("svg"),{scale:0,delay:.2},"<")}function Et(){$(document).ready(function(){let t=$(".about_visual-box-inner-extra img"),i=t.length,e=-1,l=[];if(i===0)return;function n(){l=Array.from({length:i},(y,s)=>s);for(let y=l.length-1;y>0;y--){let s=Math.floor(Math.random()*(y+1));[l[y],l[s]]=[l[s],l[y]]}}n(),t.css({display:"block",opacity:0}),$(".about_visual-box-inner").on("click",function(){if(e>=i-1){f();return}a()});function a(){e++;let y=Math.random()*10-5,v=Math.pow(.7,e+1)*.99,o=l[e],c=t.eq(o);gsap.set(c[0],{opacity:0,scale:.8,rotation:y+2,zIndex:e+10}),gsap.to(c[0],{opacity:1,scale:.7,rotation:y,duration:.6,ease:"back.out(1.2)",delay:.1})}function f(){gsap.to(t,{opacity:0,scale:.8,duration:.4,stagger:.05,ease:"power2.in",onComplete:function(){gsap.set(t,{scale:1,rotation:0,zIndex:"auto"}),e=-1,n()}})}})}function kt(){function t(n){let a=n.activeIndex,f=n.slides[a];ye($('[data-work-slider="title"]'),$(f).attr("data-title")),ye($('[data-work-slider="desc"]'),$(f).attr("data-description"))}let i=new Swiper(".why-hero_cases-slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossfade:!0},loop:!0,pagination:{el:".swiper-nav.cc-cases",bulletClass:"swiper-dot",bulletActiveClass:"cc-active",clickable:!0},on:{slideChange:function(){t(this)},init:function(){t(this)}}}),e=new Swiper(".why-hero_quotes-slider",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0,speed:200,navigation:{nextEl:".why-hero_quotes-slide-inner"},pagination:{el:".swiper-nav.cc-quotes",bulletClass:"swiper-dot",bulletActiveClass:"cc-active",clickable:!0},on:{init:function(){l(this),$(".swiper-slide").each(function(){gsap.set($(this).find("[data-item-el]"),{yPercent:50,opacity:0})}),gsap.to($(".swiper-slide-active [data-item-el]"),{yPercent:0,opacity:1,stagger:.2,duration:.6,ease:"power2.out"})},slideChangeTransitionEnd:function(){gsap.to($(".swiper-slide:not(.swiper-slide-active) [data-item-el]"),{yPercent:50,opacity:0,stagger:.1,duration:.3}),gsap.to($(".swiper-slide-active [data-item-el]"),{yPercent:0,opacity:1,stagger:.2,duration:.6,delay:.2,ease:"power2.out"})}}});function l(n){let{slides:a}=n,f=a.length;a.forEach((y,s)=>{let v=$(y).find(".why-hero_quotes-avatar-circle.cc-1"),o=$(y).find(".why-hero_quotes-avatar-circle.cc-2"),c=(s+1)%f,d=(s+2)%f,h=$(a[c]).find(".why-hero_quotes-avatar-circle.cc-avatar img").attr("src"),p=$(a[d]).find(".why-hero_quotes-avatar-circle.cc-avatar img").attr("src");p&&v.find("img").attr("src",p),h&&o.find("img").attr("src",h)})}}function Ct(){document.querySelectorAll("[data-form-validate]").forEach(i=>{let e=new Date().getTime(),l=i.querySelector("form");if(!l)return;let n=l.querySelectorAll("[data-validate]"),a=l.querySelector("[data-submit]");if(!a)return;let f=a.querySelector('input[type="submit"]');if(!f)return;function y(){return new Date().getTime()-e<5e3}n.forEach(function(c){let d=c.querySelector("select");d&&d.querySelectorAll("option").forEach(function(p){(p.value===""||p.value==="disabled"||p.value==="null"||p.value==="false")&&p.setAttribute("disabled","disabled")})});function s(){let c=!0,d=null;return n.forEach(function(h){let p=h.querySelector("input, textarea, select"),T=h.querySelector("[data-radiocheck-group]");!p&&!T||(p&&(p.__validationStarted=!0),T&&(T.__validationStarted=!0,T.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(function(E){E.__validationStarted=!0})),o(h),v(h)||(c=!1,d||(d=p||T.querySelector("input"))))}),!c&&d&&d.focus(),c}function v(c){let d=c.querySelector("[data-radiocheck-group]");if(d){let H=d.querySelectorAll('input[type="radio"], input[type="checkbox"]'),U=d.querySelectorAll("input:checked"),A=parseInt(d.getAttribute("min"))||1,I=parseInt(d.getAttribute("max"))||H.length,F=U.length;return H[0].type==="radio"?F>=1:H.length===1?H[0].checked:F>=A&&F<=I}let h=c.querySelector("input, textarea, select");if(!h)return!1;let p=!0,T=parseInt(h.getAttribute("min"))||0,C=parseInt(h.getAttribute("max"))||1/0,E=h.value.trim(),{length:k}=E;return h.tagName.toLowerCase()==="select"?(E===""||E==="disabled"||E==="null"||E==="false")&&(p=!1):h.type==="email"?p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E):(h.hasAttribute("min")&&k<T&&(p=!1),h.hasAttribute("max")&&k>C&&(p=!1)),p}function o(c){let d=c.querySelector("[data-radiocheck-group]");if(d){let h=d.querySelectorAll('input[type="radio"], input[type="checkbox"]');d.querySelectorAll("input:checked").length>0?c.classList.add("is--filled"):c.classList.remove("is--filled"),v(c)?(c.classList.add("is--success"),c.classList.remove("is--error")):(c.classList.remove("is--success"),Array.from(h).some(E=>E.__validationStarted)?c.classList.add("is--error"):c.classList.remove("is--error"))}else{let h=c.querySelector("input, textarea, select");if(!h)return;h.value.trim()?c.classList.add("is--filled"):c.classList.remove("is--filled"),v(c)?(c.classList.add("is--success"),c.classList.remove("is--error")):(c.classList.remove("is--success"),h.__validationStarted?c.classList.add("is--error"):c.classList.remove("is--error"))}}n.forEach(function(c){let d=c.querySelector("input, textarea, select"),h=c.querySelector("[data-radiocheck-group]");h?h.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(function(T){T.__validationStarted=!1,T.addEventListener("change",function(){requestAnimationFrame(function(){if(!T.__validationStarted){let C=h.querySelectorAll("input:checked").length,E=parseInt(h.getAttribute("min"))||1;C>=E&&(T.__validationStarted=!0)}T.__validationStarted&&o(c)})}),T.addEventListener("blur",function(){T.__validationStarted=!0,o(c)})}):d&&(d.__validationStarted=!1,d.tagName.toLowerCase()==="select"?d.addEventListener("change",function(){d.__validationStarted=!0,o(c)}):(d.addEventListener("input",function(){let p=d.value.trim(),{length:T}=p,C=parseInt(d.getAttribute("min"))||0,E=parseInt(d.getAttribute("max"))||1/0;d.__validationStarted||(d.type==="email"?v(c)&&(d.__validationStarted=!0):(d.hasAttribute("min")&&T>=C||d.hasAttribute("max")&&T<=E)&&(d.__validationStarted=!0)),d.__validationStarted&&o(c)}),d.addEventListener("blur",function(){d.__validationStarted=!0,o(c)})))}),a.addEventListener("click",function(){if(s()){if(y()){alert("Form submitted too quickly. Please try again.");return}f.click()}}),l.addEventListener("keydown",function(c){if(c.key==="Enter"&&c.target.tagName!=="TEXTAREA"&&(c.preventDefault(),s())){if(y()){alert("Form submitted too quickly. Please try again.");return}f.click()}})}),$(".form-checkbox").each(function(){let i=$(this),e=i.find('input[type="checkbox"], input[type="radio"]');function l(){e.attr("type")==="radio"&&$(`input[name="${e.attr("name")}"]`).not(":checked").each(function(){$(this).closest(".form-checkbox").removeClass("cc-active")}),e.is(":checked")?i.addClass("cc-active"):i.removeClass("cc-active")}l(),e.on("change",l)})}function je(){if(!document.getElementById("gallery"))return;let t={cellSize:.75,zoomLevel:1.25,lerpFactor:.075,borderColor:"rgba(255, 255, 255, 0.15)",backgroundColor:"transparent",textColor:"#ffffff",hoverColor:"rgba(255, 255, 255, 0)",wheelSensitivity:8e-4,wheelDamping:.92,momentumThreshold:.1,mouseSensitivity:.003,touchSensitivity:.008},i=[];$("[data-lab-item]").each(function(){let r=$(this),m={id:r.attr("data-lab-item"),title:r.find("[data-lab-title]").text().trim(),label:r.find("[data-lab-label]").text().trim(),desc:r.find("[data-lab-desc]").text().trim(),image:r.find("[data-lab-img]").attr("src"),imageHiRes:r.find("[data-lab-hires-img]").attr("src")};i.push(m)});let e,l,n,a,f=!1,y=!0,s=0,v={x:0,y:0},o={x:0,y:0},c={x:0,y:0},d={x:-1,y:-1},h=1,p=1,T=[],C={x:-999,y:-999},E={x:-999,y:-999},k=0,H=0,U=.15,A=r=>{if(r==="transparent")return[0,0,0,0];if(r.startsWith("#")){let b=r.slice(1),x=parseInt(b.substr(0,2),16)/255,_=parseInt(b.substr(2,2),16)/255,L=parseInt(b.substr(4,2),16)/255;return[x,_,L,1]}let m=r.match(/rgba?\(([^)]+)\)/);return m?m[1].split(",").map((b,x)=>x<3?parseFloat(b.trim())/255:parseFloat(b.trim()||1)):[0,0,0,1]},I=()=>{let r=document.getElementById("gallery");return getComputedStyle(r).color||"#ffffff"},F=(r,m)=>{let b=document.createElement("canvas");b.width=512,b.height=512;let x=b.getContext("2d");x.clearRect(0,0,512,512),x.font="100px Arial",x.fillStyle=I(),x.textBaseline="top";let L=((M,D)=>{let z=M.split(" "),B=[],W=z[0];for(let O=1;O<z.length;O++){let G=z[O],{width:ee}=x.measureText(W+" "+G);ee<D?W+=" "+G:(B.push(W),W=G)}return B.push(W),B})(r,400);L.forEach((M,D)=>{x.fillText(M,25,25+D*35)}),x.fillStyle="red",x.fillText(m,25,25+L.length*35+10);let R=new THREE.CanvasTexture(b);return Object.assign(R,{wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,flipY:!1,generateMipmaps:!1,format:THREE.RGBAFormat}),R},N=(r,m=!1)=>{let x=r.length,_=1,L=512,R=document.createElement("canvas");R.width=x*L,R.height=_*L;let M=R.getContext("2d");r.forEach((z,B)=>{var G,ee;let W=B%x*L,O=Math.floor(B/x)*L;m&&((G=z.source)!=null&&G.data)?M.drawImage(z.source.data,W,O,L,L):m||((ee=z.image)!=null&&ee.complete&&z.image.naturalWidth>0?M.drawImage(z.image,W,O,L,L):(M.fillStyle="#ff0000",M.fillRect(W,O,L,L)))});let D=new THREE.CanvasTexture(R);return Object.assign(D,{wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,flipY:!1}),D.needsUpdate=!0,{texture:D,atlasWidth:x,atlasHeight:_}},J=()=>{let r=new THREE.TextureLoader,m=[],b=0;return new Promise(x=>{i.forEach((_,L)=>{let R=r.load(_.image,()=>{++b===i.length&&x(m)},void 0,M=>{++b===i.length&&x(m)});Object.assign(R,{wrapS:THREE.ClampToEdgeWrapping,wrapT:THREE.ClampToEdgeWrapping,minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter}),m.push(R),T.push(F(_.title,_.label))})})},oe=(r,m)=>{let b=Math.floor((r+m*11)%i.length),x=b<0?i.length+b:b;return i[x]},Y=()=>{if(!n||d.x<0||d.y<0){E={x:-999,y:-999};return}let r=n.domElement.getBoundingClientRect(),m=d.x/r.width*2-1,b=-(d.y/r.height*2-1),x=Math.sqrt(m*m+b*b),_=1-.08*x*x,L=m*_,R=b*_,M=r.width/r.height,D=L*M*h+o.x,z=R*h+o.y,B=D/t.cellSize*.95,W=z/t.cellSize*.95,O=Math.floor(B),G=Math.floor(W);E={x:O,y:G}},j=r=>{let m=n.domElement.getBoundingClientRect();d.x=r.clientX-m.left,d.y=r.clientY-m.top,Y(),a!=null&&a.material.uniforms&&a.material.uniforms.uMousePos.value.set(d.x,d.y)},re=(r,m,b)=>r+(m-r)*b,de=r=>{let{target:m}=r;return m.closest("nav")||m.closest(".navbar")||m.closest("[data-nav]")||m.closest("header")||m.tagName==="A"||m.closest("a")},fe=(r,m,b)=>de(r)?!1:(f=!0,y=!0,s=Date.now(),document.body.classList.add("dragging"),v.x=m,v.y=b,setTimeout(()=>f&&(p=t.zoomLevel),150),!0),me=r=>{fe(r,r.clientX,r.clientY)},we=r=>{fe(r,r.touches[0].clientX,r.touches[0].clientY)&&r.preventDefault()},Ce=(r,m,b=!1)=>{if(!f||r===void 0||m===void 0)return;let x=r-v.x,_=m-v.y;(Math.abs(x)>2||Math.abs(_)>2)&&(y=!1,p===1&&(p=t.zoomLevel));let L=b?t.touchSensitivity:t.mouseSensitivity;c.x-=x*L,c.y+=_*L,v.x=r,v.y=m},be=r=>Ce(r.clientX,r.clientY),Le=r=>{r.preventDefault(),Ce(r.touches[0].clientX,r.touches[0].clientY,!0)},xe=r=>{var m,b,x,_;if(f&&(f=!1,document.body.classList.remove("dragging"),p=1,y&&Date.now()-s<200)){let L=r.clientX||((b=(m=r.changedTouches)==null?void 0:m[0])==null?void 0:b.clientX),R=r.clientY||((_=(x=r.changedTouches)==null?void 0:x[0])==null?void 0:_.clientY);if(L!==void 0&&R!==void 0&&!de(r)){let M=n.domElement.getBoundingClientRect(),D=(L-M.left)/M.width*2-1,z=-((R-M.top)/M.height*2-1),B=Math.sqrt(D*D+z*z),W=1-.08*B*B,O=D*W*(M.width/M.height)*h+o.x,G=z*W*h+o.y,ee=Math.floor(O/t.cellSize*.95),$e=Math.floor(G/t.cellSize*.95),Ie=oe(ee,$e);Ie&&Se.open(Ie.id)}}},Se={activePlayer:null,init(){this.setupEventListeners(),this.checkUrlQuery()},setupEventListeners(){$("[data-modal-close]").on("click",()=>this.close()),$(document).on("keydown",r=>{r.key==="Escape"&&this.close()}),$(".labs-modal_wrap").on("click",r=>{let m=$(r.target),b=$(".labs-modal_video:visible"),x=$(".labs-modal_img-item:visible");!m.closest(".labs-modal_video").length&&!m.closest(".labs-modal_img-item").length&&this.close()}),$(window).on("popstate",()=>{this.checkUrlQuery()})},checkUrlQuery(){let m=new URLSearchParams(window.location.search).get("project");m?$(`[data-lab-item="${m}"]`).length&&this.open(m):this.close()},open(r){this.destroyVideo(),ne(!0),$(".labs-modal_wrap").css("display","flex"),$("[data-lab-item]").hide();let m=$(`[data-lab-item="${r}"]`);m.css("display","flex"),this.handleMediaType(m),this.updateUrl(r)},close(){this.destroyVideo(),ne(!1),$("[data-lab-item]").hide(),$(".labs-modal_wrap").css("display","none"),this.updateUrl()},updateUrl(r=null){let m=new URL(window.location);r?m.searchParams.set("project",r):m.searchParams.delete("project"),window.history.pushState({},"",m)},handleMediaType(r){let m=r.find(".labs-modal_video"),b=r.find(".labs-modal_img-item"),x=m.find("video");if(m.hide(),b.hide(),x.length){let L=x.find("source").attr("src")||x.attr("src");L&&L.trim()!==""?(m.show(),this.initializeVideo(x)):b.css("display","flex")}else b.css("display","flex")},initializeVideo(r){if(typeof Plyr!="undefined"){let m=r[0];m.currentTime=0,m.pause(),this.activePlayer=new Plyr(m,{controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],autoplay:!1,loop:{active:!0}}),this.activePlayer.on("ready",()=>{this.activePlayer.currentTime=0,setTimeout(()=>{this.activePlayer&&$(".labs-modal_wrap").is(":visible")&&this.activePlayer.play()},100)}),this.activePlayer.on("loadeddata",()=>{this.activePlayer.currentTime=0})}},destroyVideo(){if(this.activePlayer){try{this.activePlayer.pause(),this.activePlayer.currentTime=0,this.activePlayer.destroy()}catch{}this.activePlayer=null}$("video").each(function(){this.pause(),this.currentTime=0,this.load()})}},pe=()=>{let r=document.getElementById("gallery");if(!r)return;let{offsetWidth:m,offsetHeight:b}=r;l.updateProjectionMatrix(),n.setSize(m,b),n.setPixelRatio(window.devicePixelRatio),a==null||a.material.uniforms.uResolution.value.set(m,b)},he=()=>{let r=new MutationObserver(m=>{m.forEach(b=>{b.type==="attributes"&&(b.attributeName==="data-theme"||b.attributeName==="class")&&setTimeout(()=>{Pe()},400)})});r.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme","class"]}),r.observe(document.body,{attributes:!0,attributeFilter:["data-theme","class"]})},Pe=()=>{var _,L;if(!((L=(_=a==null?void 0:a.material)==null?void 0:_.uniforms)!=null&&L.uTextAtlas))return;let r=i.map(R=>F(R.title,R.label)),m=N(r,!0),b=a.material.uniforms.uTextAtlas.value;b&&b.dispose&&b.dispose();let x=m.texture;x.needsUpdate=!0,x.colorSpace=THREE.SRGBColorSpace,a.material.uniforms.uTextAtlas.value=x,a.material.needsUpdate=!0,n.resetState(),n.compile(e,l),n.render(e,l)},K={x:0,y:0},ge=0,ve=null,Te=()=>{let r=document.getElementById("gallery");if(!r)return;let m=null,b=_=>{if(_.preventDefault(),m)return;m=setTimeout(()=>{m=null},16);let L=Date.now(),R=L-ge;ge=L;let{deltaX:M}=_,{deltaY:D}=_;if(Math.abs(_.deltaX)>0||Math.abs(_.deltaY)>0){document.body.classList.add("dragging"),_.deltaMode===1?(M*=16,D*=16):_.deltaMode===2&&(M*=400,D*=400);let z=t.wheelSensitivity||8e-4,B=M*z,W=D*z;c.x+=B,c.y-=W,K.x=Math.max(-2,Math.min(2,B/Math.max(R,16)*1e3)),K.y=Math.max(-2,Math.min(2,W/Math.max(R,16)*1e3)),clearTimeout(r.wheelTimeout),r.wheelTimeout=setTimeout(()=>{document.body.classList.remove("dragging")},150)}};r.addEventListener("mousedown",me),r.addEventListener("mousemove",be),r.addEventListener("mouseup",xe),r.addEventListener("mouseleave",xe);let x={passive:!1};r.addEventListener("touchstart",we,x),r.addEventListener("touchmove",Le,x),r.addEventListener("touchend",xe,x),r.addEventListener("wheel",b,x),window.addEventListener("resize",pe),r.addEventListener("contextmenu",_=>_.preventDefault()),n.domElement.addEventListener("mousemove",j),n.domElement.addEventListener("mouseleave",()=>{d.x=d.y=-1,E={x:-999,y:-999},H=0,a!=null&&a.material.uniforms&&a.material.uniforms.uMousePos.value.set(-1,-1)})},se=()=>{requestAnimationFrame(se),(Math.abs(K.x)>.01||Math.abs(K.y)>.01)&&(c.x+=K.x*.016,c.y-=K.y*.016,K.x*=.92,K.y*=.92),o.x+=(c.x-o.x)*t.lerpFactor,o.y+=(c.y-o.y)*t.lerpFactor,h+=(p-h)*t.lerpFactor,C.x!==E.x||C.y!==E.y?k>.01?k=re(k,0,U*1.5):(C.x=E.x,C.y=E.y,E.x!==-999&&(H=1)):(H=E.x===-999?0:1,k=re(k,H,U)),a!=null&&a.material.uniforms&&(a.material.uniforms.uOffset.value.set(o.x,o.y),a.material.uniforms.uZoom.value=h,a.material.uniforms.uHoveredCell.value.set(C.x,C.y),a.material.uniforms.uHoverIntensity.value=k),n.render(e,l)};(async()=>{let r=document.getElementById("gallery");if(!r)return;let m=r.querySelector("canvas");if(m&&m.remove(),i.length===0)return;e=new THREE.Scene,l=new THREE.OrthographicCamera(-1,1,1,-1,.1,10),l.position.z=1,n=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),n.setSize(r.offsetWidth,r.offsetHeight),n.setPixelRatio(window.devicePixelRatio),n.setClearColor(new THREE.Color(0,0,0),0),r.appendChild(n.domElement);let b=await J(),x=N(b,!1);console.log(T);let _=N(T,!0),L={uOffset:{value:new THREE.Vector2(0,0)},uResolution:{value:new THREE.Vector2(r.offsetWidth,r.offsetHeight)},uBorderColor:{value:new THREE.Vector4(...A(t.borderColor))},uHoverColor:{value:new THREE.Vector4(...A(t.hoverColor))},uBackgroundColor:{value:new THREE.Vector4(...A(t.backgroundColor))},uMousePos:{value:new THREE.Vector2(-1,-1)},uZoom:{value:1},uCellSize:{value:t.cellSize},uTextureCount:{value:i.length},uAtlasSize:{value:x.atlasSize},uAtlasWidth:{value:x.atlasWidth},uAtlasHeight:{value:x.atlasHeight},uImageAtlas:{value:x.texture},uTextAtlas:{value:_.texture},uHoveredCell:{value:new THREE.Vector2(-999,-999)},uHoverIntensity:{value:0}},R=new THREE.PlaneGeometry(2,2),M=new THREE.ShaderMaterial({vertexShader:Ue,fragmentShader:Be,uniforms:L});M.needsUpdate=!0,n.compile(e,l),a=new THREE.Mesh(R,M),e.add(a),Te(),he(),se(),Se.init()})()}function ye(t,i){let e="0123456789!@#$%^&*()_+<>?:|";gsap.to(t,{duration:.5,scrambleText:{text:i,chars:e,speed:.3,ease:"power2.inOut"}})}function ke(t){let i={lines:{duration:.8,stagger:.08},words:{duration:.6,stagger:.06},chars:{duration:.4,stagger:.01}},e=[],l=[];function n(){l.forEach(s=>{s&&s.kill()}),e.forEach(s=>{s&&s.revert()}),e=[],l=[],$(t).each(function(){let s=$(this),v=s.data("original-text");v&&s.html(v),s.removeClass("animated"),gsap.set(s,{clearProps:"all"}),s.closest("li").length>0&&gsap.set(s.closest("li"),{clearProps:"all"})})}function a(){$(t).each(function(){let s=$(this);if(s.hasClass("split-initialized"))return;s.addClass("split-initialized"),s.removeClass("animated");let v=s.data("original-text")||s.text();s.data("original-text",v),s.find(".line, .word, .letter").length>0&&s.html(v);let o=s.data("split-reveal")||"lines",c=o==="lines"?["lines"]:o==="words"?["lines","words"]:["lines","words","chars"],d=s.closest("li").length>0;gsap.set(s,{visibility:"visible",opacity:1,clearProps:"transform"}),d&&gsap.set(s.closest("li"),{opacity:0});try{let h=new SplitText(s[0],{type:c.join(", "),mask:"lines",linesClass:"line",wordsClass:"word",charsClass:"letter"});e.push(h);let p=h[o];if(!p||p.length===0){console.warn("No split targets found for",s);return}gsap.set(p,{yPercent:110});let T=i[o],C=s.data("trigger-type")||"load",E=()=>{let k=gsap.timeline({onComplete:()=>{s.addClass("animated")}});return d&&k.to(s.closest("li"),{opacity:1,duration:T.duration*.3,ease:"power2.out"},0),k.to(p,{yPercent:-8,duration:T.duration,stagger:T.stagger,ease:"expo.out"},d?T.duration*.15:0),k};if(C==="scroll"){let k=ScrollTrigger.create({trigger:s[0],start:"clamp(top 80%)",once:!0,onEnter:E});l.push(k)}else gsap.delayedCall(.2,E)}catch(h){console.error("Error in SplitText:",h)}})}setTimeout(a,300);function f(s,v){let o;return function(){let c=this,d=arguments;clearTimeout(o),o=setTimeout(()=>s.apply(c,d),v)}}let y=f(a,200);return $(window).on("resize",y),function(){$(window).off("resize",y),n(),$(t).each(function(){$(this).removeClass("split-initialized")})}}function St(t){let i=[];function e(){i.forEach(a=>{a&&a.kill()}),i=[],$(t).each(function(){let a=$(this);if(a.hasClass("animated"))return;let f=a.data("duration")||.6,y=a.data("delay")||0,s=a.data("trigger-type")||"scroll";gsap.set(a,{opacity:0});let v=()=>{gsap.to(a,{opacity:1,duration:f,delay:y,ease:"power2.out",onComplete:()=>{a.addClass("animated")}})};if(s==="scroll"){let o=ScrollTrigger.create({trigger:a[0],start:"clamp(top 95%)",once:!0,onEnter:v});i.push(o)}else gsap.delayedCall(.2,v)})}setTimeout(e,300);function l(a,f){let y;return function(){let s=this,v=arguments;clearTimeout(y),y=setTimeout(()=>a.apply(s,v),f)}}let n=l(e,200);return $(window).on("resize",n),function(){$(window).off("resize",n),i.forEach(f=>{f&&f.kill()})}}function Ze(){let t=$(".grid-line.is-h"),i=$(".grid-line.is-v");t.length&&gsap.fromTo(t,{scaleX:0},{scaleX:1,stagger:.1,duration:6,immediateRender:!0,ease:"power4.out"}),i.length&&gsap.fromTo(i,{scaleY:0},{scaleY:1,stagger:.1,duration:2,immediateRender:!0,ease:"power4.inOut"})}function $t(){document.querySelectorAll("[data-button-animate-chars]").forEach(e=>{let l=e.textContent;e.innerHTML="",[...l].forEach((n,a)=>{let f=document.createElement("span");f.textContent=n,f.style.transitionDelay=`${a*.01}s`,n===" "&&(f.style.whiteSpace="pre"),e.appendChild(f)})})}function It(){mt(),rt(),ot(),st(),lt(),Ze(),pt(),ct(),ht(),ut(),Xe(),dt(),document.fonts.ready.then(function(){ke('[data-split="heading"]'),St("[data-item-reveal]"),$t()}),window.initDarkModeToggle()}function At(){vt(),yt(),gt(),ft(),De(),Ne(".hp-hero_content-clients ul",".hp-hero_links"),qe(),wt()}var ue;function _t(){ue&&ue.destroy(),setTimeout(()=>{ue=xt(),bt(),Tt()},100)}function Lt(){setTimeout(()=>{Et(),Ze(),Ne(".about_clients-list.cc-clients",".about_clients-item"),qe()},500)}function Pt(){kt()}function Ht(){Ct()}function Qe(){window.addEventListener("pageshow",function(t){t.persisted&&window.location.reload()}),je()}$(document).ready(function(){let t=$('[data-barba="container"]').data("barba-namespace");We(),Mt()});function We(t){var e,l,n;It();let i=((n=(l=(e=t==null?void 0:t.next)==null?void 0:e.container)==null?void 0:l.dataset)==null?void 0:n.barbaNamespace)||$('[data-barba="container"]').data("barba-namespace");i==="home"?At():i==="work"?_t():i==="about"?Lt():i==="why"?Pt():i==="contact"?Ht():i==="labs"&&Qe(),setTimeout(()=>{gsap.to("[data-barba=container]",{opacity:1})},300)}function Mt(){l();let t=null,i=null;barba.init({timeout:15e3,prefetchIgnore:!0,sync:!0,debug:!0,transitions:[n(),e()]});function e(){function a(f){let y=$("html"),s=$(f.current.container).find(".page-transition"),v=$(f.next.container).find(".page-transition"),o=gsap.timeline({defaults:{duration:.6,ease:"power2.inOut"}});return o.to(s,{scaleY:1,duration:.4,onComplete:()=>{ne(!0)}}),o.to(f.current.container,{scale:.8,duration:.5,onStart:()=>{gsap.set([f.current.container,f.next.container],{position:"fixed",top:0,left:0,width:"100%",height:"100vh",overflow:"hidden"}),gsap.set(y,{backgroundColor:"#4C4C4C"}),gsap.set(f.next.container,{scale:.8,zIndex:2}),gsap.set(f.current.container,{zIndex:1})}},"-=0.1"),o.set(f.current.container,{opacity:0,pointerEvents:"none"},"+=0.2"),o.fromTo(v,{scaleY:1},{scaleY:0,duration:1,onStart:()=>{We(f)}},"-=0.3"),o.set(f.next.container,{opacity:1},"<"),o.to(f.next.container,{scale:1,duration:1,onComplete:()=>{gsap.set(y,{backgroundColor:""}),gsap.set(f.next.container,{clearProps:"all"}),gsap.set(f.next.container,{opacity:1}),f.next.namespace==="work"&&ue&&setTimeout(()=>{ue.refresh()},200)}},"<"),o}return{name:"default-transition",before(f){document.documentElement.classList.add("is-animating"),ue&&ue.destroy()},async enter(f){await a(f),Ye(f)},async after(f){ne(!1),qe(),document.documentElement.classList.remove("is-animating"),Xe(),f.next.namespace==="labs"&&Qe()}}}function l(){let a=document.createElement("style");a.innerHTML=`
  .barba-container {
    position: relative;
  }
  
  html.is-animating .barba-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .work-item-clone {
    position: fixed;
    z-index: 9999;
    pointer-events: none;
    transition: none;
    will-change: transform, width, height, top, left;
    transform-origin: center center;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
  }
`,document.head.appendChild(a)}function n(){function a(s){let v=$(s).closest(".work_slider-item").find(".work_slider-item_visual");if(v.length){let o=v[0].getBoundingClientRect(),c=window.getComputedStyle(v[0]);i={rect:o,backgroundColor:c.backgroundColor,borderRadius:c.borderRadius||"0px"},t=document.createElement("div"),t.className="work-item-clone";let h=v.find("img").attr("src")||"";if($(t).css({position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",backgroundColor:i.backgroundColor,borderRadius:i.borderRadius,zIndex:9999}),h){let p=$('<div class="clone-img-container"></div>'),T=$("<img>").attr("src",h);p.css({width:"100%",height:"100%",overflow:"hidden"}),T.css({width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}),p.append(T),$(t).append(p)}document.body.appendChild(t)}}function f(s){let v=gsap.timeline();if(v.to(s,{opacity:0,duration:.5,onComplete:()=>{ne(!0)}}),t&&i){let o=window.innerWidth,c=window.innerHeight,d=Math.min(o*.8,800),h=d*(i.rect.height/i.rect.width),p=(o-d)/2,T=(c-h)/2;v.to(t,{top:T,left:p,width:d,height:h,duration:.8,ease:"power2.inOut",delay:.1},"-=0.3")}return v}function y(s){return new Promise(v=>{let o=$(s).find(".work-d_hero-list-img-mask").first()[0];t&&o?setTimeout(()=>{let c=Flip.getState(t),d=o.getBoundingClientRect();$(t).css({top:d.top+"px",left:d.left+"px",width:d.width+"px",height:d.height+"px"});let h=$(t).find("img");gsap.timeline({onComplete:()=>{gsap.to(s,{opacity:1,duration:.5,onComplete:()=>{t&&(t.remove(),t=null),v()}})}}).add(Flip.from(c,{duration:.8,ease:"power2.inOut"}))},100):(gsap.to(s,{opacity:1,duration:.5,onComplete:v}),t&&(t.remove(),t=null))})}return{name:"home-to-work",from:{namespace:"home"},to:{namespace:"work"},custom:({trigger:s})=>$(s).closest(".work_slider-item").length>0,before(s){document.documentElement.classList.add("is-animating")},beforeLeave(s){a(s.trigger)},leave(s){return f(s.current.container)},beforeEnter(s){gsap.set(s.next.container,{opacity:0,visibility:"visible"})},afterEnter(s){Ye(s),ne(!1),y(s.next.container)},after(s){We(s),document.documentElement.classList.remove("is-animating")}}}}})();
